# API Server Deployment - Quick Start

**5 phÃºt Ä‘á»ƒ deploy!** âš¡

---

## ðŸš€ Deployment Tá»± Äá»™ng (KhuyÃªn DÃ¹ng)

### BÆ°á»›c 1: Chuáº©n Bá»‹

```powershell
cd D:\DoAn_ZaloClone
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

### BÆ°á»›c 2: Deploy Láº§n Äáº§u

```powershell
.\scripts\deploy-api-server.ps1
```

**Nháº­p password khi Ä‘Æ°á»£c yÃªu cáº§u** (4-6 láº§n)

### BÆ°á»›c 3: Verify

```powershell
Invoke-RestMethod -Uri "https://zolachat.site/health"
```

**Xong!** âœ…

---

## ðŸ”„ Update Code (Sau Khi Deploy)

```powershell
.\scripts\upload-and-update-api.ps1
```

**Xong!** âœ…

---

## ðŸ“‹ Manual Deployment (10 BÆ°á»›c)

### 1. SSH vÃ o VPS
```bash
ssh root@163.61.182.20
```

### 2. Install Node.js
```bash
curl -fsSL https://deb.nodesource.com/setup_18.x | bash -
apt-get install -y nodejs
```

### 3. Install PM2
```bash
npm install -g pm2
```

### 4. Create Directory
```bash
mkdir -p /opt/zaloclone-api
```

### 5. Upload Code (tá»« Windows)
```powershell
scp -r server\* root@163.61.182.20:/opt/zaloclone-api/
```

### 6. Install Packages (trÃªn VPS)
```bash
cd /opt/zaloclone-api
npm install --production
```

### 7. Create .env
```bash
cat > .env << 'EOF'
PORT=3000
NODE_ENV=production
ALLOWED_ORIGINS=https://zolachat.site
FIREBASE_SERVICE_ACCOUNT_PATH=./serviceAccountKey.json
EOF
```

### 8. Upload Firebase Key (tá»« Windows)
```powershell
scp server\serviceAccountKey.json root@163.61.182.20:/opt/zaloclone-api/
```

### 9. Start Server (trÃªn VPS)
```bash
cd /opt/zaloclone-api
pm2 start src/index.js --name zaloclone-api
pm2 save
```

### 10. Test
```bash
curl http://localhost:3000/health
```

**Xong!** âœ…

---

## ðŸ”§ Useful Commands

```bash
# View status
pm2 status

# View logs
pm2 logs zaloclone-api

# Restart
pm2 restart zaloclone-api

# Monitor
pm2 monit
```

---

## ðŸ“š Full Documentation

Xem chi tiáº¿t: [docs/API_DEPLOYMENT_GUIDE.md](API_DEPLOYMENT_GUIDE.md)

---

**Cáº§n help?** Check Troubleshooting section trong full guide.
